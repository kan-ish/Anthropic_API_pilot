### Iteration 1 - pilot
Same thing as task 1, although I am now using the `tools` top level parameter to define all my tools. This is better for specifying multiple tools as it will be easier to specify if I want to specify the `tool-choice` parameter later. It is also more readable as my sytem prompt won't get cluttered.

### Iteration 2 - trying to make it work like a chatbot (back and forth convos)
Getting Claude to generate blogs for me and calling the save_to_db function worked on the first try, but it only sustains for one back and forth dialogue between the user and Claude. I am having trouble in keeping the conversation going until the user explicitly asks Claude to save it.

```
user@user-Latitude-E5270:~/Documents/projects/misc/claude/Anthropic_API_pilot/task2$ python3 main.py 
Say something: Write me a 100 word article on bees
Message(id='msg_01G6xPvYKdKQvvHwpUWscBHh', content=[TextBlock(text='<thinking>\nThe user has requested that I write a 100 word blog article on the topic of bees. To fulfill this request, the most relevant tool is:\n\nsave_blog_to_database\n\nThis will allow me to generate the requested article content and save it to the database. \n\nThe save_blog_to_database tool does not require any parameters. I already have the topic the user wants me to write about (bees) and the approximate length (100 words).\n\nTherefore, I have all the necessary information to proceed with generating the article and saving it to the database using the save_blog_to_database tool, without needing to ask the user for any additional details.\n</thinking>', type='text'), ToolUseBlock(id='toolu_01GWG8ccWwhVpkETF4wrptc4', input={'article': "<article>\nBees are fascinating insects that play a critical role in our ecosystem. As pollinators, they help plants reproduce by transferring pollen between flowers as they collect nectar. Bees live in colonies consisting of a queen, drones, and workers. The queen's sole job is to lay eggs, while the workers forage for food, build the hive, and tend to the young. Bees produce honey, which they use as a food source during winter. Humans also harvest honey for its delicious taste and health benefits. Sadly, bee populations have been declining in recent years due to factors like habitat loss, pesticide use, and climate change.\n</article>"}, name='save_blog_to_database', type='tool_use')], model='claude-3-opus-20240229', role='assistant', stop_reason='tool_use', stop_sequence=None, type='message', usage=Usage(input_tokens=834, output_tokens=355))

Tool Used: save_blog_to_database
Tool Input: {'article': "<article>\nBees are fascinating insects that play a critical role in our ecosystem. As pollinators, they help plants reproduce by transferring pollen between flowers as they collect nectar. Bees live in colonies consisting of a queen, drones, and workers. The queen's sole job is to lay eggs, while the workers forage for food, build the hive, and tend to the young. Bees produce honey, which they use as a food source during winter. Humans also harvest honey for its delicious taste and health benefits. Sadly, bee populations have been declining in recent years due to factors like habitat loss, pesticide use, and climate change.\n</article>"}
```

### Iteration 3 - It worked. Engineering the prompt the right way did the trick. It now works like a chatbot


```
kanis@Kanishks-MacBook-Pro task2 % python main.py
Say something: Write me a 100 word article on bees
Message(id='msg_015iNGndaWB3dh83vsjaNnqo', content=[TextBlock(text="<thinking>\nBased on the user's request, the following steps are needed:\n\n1. Generate a 100 word article on bees. The user has provided the topic (bees) and desired length (100 words). No other information is needed to generate the article.\n\n2. After generating the article, I should wait for the user to explicitly ask to save, update, discard or delete the article before taking any of those actions with the database. The user has not yet made any such request.\n\nTherefore, I can proceed with generating the article without calling any of the database tools at this point. I will wait for further instructions from the user on what to do with the article once generated.\n</thinking>\n\n<article>\nBees are fascinating insects that play a crucial role in our ecosystem. These hard-working pollinators help flowers and crops reproduce by transferring pollen between plants. Bees live in organized colonies, each with a queen, drones, and worker bees. The workers collect nectar to make honey, which feeds the colony. Sadly, bee populations have declined in recent years due to habitat loss, pesticides, and climate change. We must take action to protect these vital creatures, such as planting bee-friendly gardens and supporting sustainable agriculture practices. By preserving bees, we safeguard biodiversity and ensure food security for the future.\n</article>", type='text')], model='claude-3-opus-20240229', role='assistant', stop_reason='end_turn', stop_sequence=None, type='message', usage=Usage(input_tokens=852, output_tokens=296))
Say something: make it more suitable to be read to a 3 year old
Message(id='msg_01MbYUMoVX6e8QgodYFdDKgT', content=[TextBlock(text="<thinking>\nTo make the article more suitable for a 3 year old audience, I should consider the following:\n\n1. Simplify the language and sentence structure to be easier for a young child to understand. Use short sentences and avoid complex words.\n\n2. Focus on basic, high-level concepts about bees that would be interesting to a 3 year old, like what bees look like, the sounds they make, where they live, and that they make honey. \n\n3. Use a friendly, conversational tone as if telling a story or talking directly to the child.\n\n4. The article can be a bit shorter than 100 words since a 3 year old has a more limited attention span. Around 50-60 simple words is probably better.\n\nThe original article doesn't need to be saved, updated or deleted since the request is just to modify the existing draft to be age-appropriate for a 3 year old. No database operations are needed at this time until explicitly instructed by the user.\n</thinking>\n\n<article>\nLook at the little bees! They are black and yellow. Buzz buzz! The bees fly from flower to flower. They live together in a beehive with their bee friends. Bees are very nice. They make sweet, yummy honey for us. Bees help the pretty flowers grow. We need to be kind to the bees!\n</article>", type='text')], model='claude-3-opus-20240229', role='assistant', stop_reason='end_turn', stop_sequence=None, type='message', usage=Usage(input_tokens=1152, output_tokens=306))
Say something: Okay now save it.
Message(id='msg_01MiVD7NAJrsBuhMUpxJ6qUe', content=[TextBlock(text='<thinking>\nThe user has requested to save the blog article that was just generated. To save the article to the database, I should use the save_blog_to_database tool.\n\nChecking the parameters for save_blog_to_database:\n- blog_content (required): This is the article itself, which is already available from the previous request. No need to ask the user for this.\n\nAll required parameters are available, so I can proceed with calling the save_blog_to_database tool to save the article in the database. No other tools are needed at this time.\n</thinking>', type='text'), ToolUseBlock(id='toolu_01SjVDsB7Vsg7g7P1JNnJDGa', input={'blog_content': 'Look at the little bees! They are black and yellow. Buzz buzz! The bees fly from flower to flower. They live together in a beehive with their bee friends. Bees are very nice. They make sweet, yummy honey for us. Bees help the pretty flowers grow. We need to be kind to the bees!'}, name='save_blog_to_database', type='tool_use')], model='claude-3-opus-20240229', role='assistant', stop_reason='tool_use', stop_sequence=None, type='message', usage=Usage(input_tokens=1450, output_tokens=261))

Tool Used: save_blog_to_database
Tool Input: {'blog_content': 'Look at the little bees! They are black and yellow. Buzz buzz! The bees fly from flower to flower. They live together in a beehive with their bee friends. Bees are very nice. They make sweet, yummy honey for us. Bees help the pretty flowers grow. We need to be kind to the bees!'}
kanis@Kanishks-MacBook-Pro task2 %
```